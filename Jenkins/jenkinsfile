pipeline
{
	agent any 
	

	stages
	{ 
		stage('Build')
		{
			steps 
			{
				sh "echo 123"
			}
		}
		stage('Log the Jenkins Docker Ant Git and Java version info')
		{
			steps 
			{
				sh 'java -version'
				sh 'git --version'
			}
		}
		stage('Run python Script')
		{
			steps
			{
				withEnv(["HOME=${env.WORKSPACE}"]) {
                    sh 'pip install --user -r requirements.txt'
                    sh 'python main.py'
                }
			}
		}
	}
}
