pipeline
{
	agent 
	{
		docker
		{
			image 'androidsdk/android-31:latest'
			 reuseNode true            
	  	}
	}
    	stages
	{ 
		stage('Build')
		{
				steps 
				{
					sh "echo 123"
				}
		}
	 	stage('Log the Jenkins Docker Ant Git and Java version info')
		{
	    		steps 
			{
				sh 'java -version'
				sh 'git --version'
		     	}
		}
		stage('Unit Test') 
		{
			steps
			{
				sh 'cd src/ ; java -jar ../lib/junit-platform-console-standalone-1.7.0-all.jar -cp "." --select-class ExampleUnitTest --reports-dir="report"' 
		 	}
		}
	}
}
